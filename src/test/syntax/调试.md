**调试getnoOrList方法：**

```python
listkey= getnoOrList(GrammartextTodict().values())

print(listkey)
```

结果：

![image-20221102194736359](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102194736359.png)

以‘|’为界把文法右部分成多个子列表



**调试DisDirectRecursionToDirect方法：**

```python
# listvalueNoor= getnoOrList(GrammartextTodict().values())
# listkey = list(GrammartextTodict().keys())

# Direct_list_no_key = DisDirectRecursionToDirect(listkey,listvalueNoor)

# print(Direct_list_no_key)

d = {'R':['S','a','|','a'],'Q':['R','b','|','b'],'S':['Q','c','|','c']}

listvalueNoor=getnoOrList(d.values())
listkey = list(d.keys())

Direct_list_no_key = DisDirectRecursionToDirect(listkey,listvalueNoor)
```

![image-20221102202811155](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102202811155.png)

小文法的结果(返回的是value列表):![image-20221102202743942](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102202743942.png)



**调试remove_direct_left_recursion方法：**

```python

d = {'R':['S','a','|','a'],'Q':['R','b','|','b'],'S':['Q','c','|','c']}

listvalueNoor=getnoOrList(d.values())
listkey = list(d.keys())

Direct_list_no_key = DisDirectRecursionToDirect(listkey,listvalueNoor)

tuplee =remove_direct_left_recursion(listkey,Direct_list_no_key)
print(tuplee[0])
print(tuplee[1])
```

![image-20221102210707405](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102210707405.png)



**调试twoListTodict方法：**

```python
d = {'R':['S','a','|','a'],'Q':['R','b','|','b'],'S':['Q','c','|','c']}

listvalueNoor=getnoOrList(d.values())
listkey = list(d.keys())

Direct_list_no_key = DisDirectRecursionToDirect(listkey,listvalueNoor)

tuplee =remove_direct_left_recursion(listkey,Direct_list_no_key)

dictre = twoListTodict(tuplee[0],tuplee[1])
```

![image-20221102213455570](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102213455570.png)



**调试simplified方法：**

这个方法测试小文法时需要修改两个地方：

原simplified方法：

（使用isalpha()方法需要下载一个包

[(192条消息) 超详细的解决ModuleNotFoundError: No module named '_curses'错误的方法!!!_troublemaker、的博客-CSDN博客](https://blog.csdn.net/weixin_44912159/article/details/101833488)）

```python
def simplified(dic:dict):#化简 TODO
    newdict = {'Program':['compUnit']}
    listkey = list(newdict.keys())
    for key in listkey:
        for value in newdict[key]:
            if (value.isalpha() or value == key+'`') and not value == 'EOF'  :
                newdict[value] = dic[value]
                listkey.append(value)
                print('value=',value)#调试用的，可注释掉
    return newdict
     
    pass
```

第一

![image-20221102213555398](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102213555398.png)

初始化字典时，设为小文法的开始符号S的键值关系。如果是c--文法，应该是设置Program的消除递归后的键值关系（可以从之前的步骤中得到）。

第二， 判断条件

![image-20221102213831580](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102213831580.png)

小文法是以大写字母为非终结符，c--文法是以全有字母组成的为非终结符

```python
d = {'R':['S','a','|','a'],'Q':['R','b','|','b'],'S':['Q','c','|','c']}

listvalueNoor=getnoOrList(d.values())
listkey = list(d.keys())

Direct_list_no_key = DisDirectRecursionToDirect(listkey,listvalueNoor)

tuplee =remove_direct_left_recursion(listkey,Direct_list_no_key)

dictre = twoListTodict(tuplee[0],tuplee[1])

dictresult = simplified(dictre)

print(dictresult)
```



结果：

![image-20221102213159929](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102213159929.png)



**用c--文法调试：**

```python

listvalueNoor= getnoOrList(GrammartextTodict().values())
listkey = list(GrammartextTodict().keys())

Direct_list_no_key = DisDirectRecursionToDirect(listkey,listvalueNoor)

tuplee =remove_direct_left_recursion(listkey,Direct_list_no_key)

dictre = twoListTodict(tuplee[0],tuplee[1])

dictresult = simplified(dictre)

print(dictresult)
```



![image-20221102220833433](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102220833433.png)

![image-20221102220848030](D:\大学\大三上\编译原理\大作业\Compile_lab\调试.assets\image-20221102220848030.png)